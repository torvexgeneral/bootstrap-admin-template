---
import AdminLayout from "../../layouts/admin/admin-layout.astro";
import ComponentPreview from "../../components/component-preview/component-preview.astro";
import Toc from "../../components/toc/toc.astro";
import PageHeader from "../../components/common/page-header.astro";
import { getAssetPrefix, getPathPrefix } from "../../../utils/path.js";

// Page header configuration with breadcrumb navigation and icons
const pageHeaderConfig = {
  title: "Collapse",
  breadcrumbs: [
    { label: "Dashboard", href: getPathPrefix("/dashboard"), icon: "ri-dashboard-line" },
    { label: "Interface", href: getPathPrefix("/interface"), icon: "ri-layout-line" },
    { label: "Collapse", class: "active", icon: "ri-arrow-up-down-line" }
  ]
};

// Basic collapse example with link and button triggers
const basicCollapseExample = `<p class="d-inline-flex gap-1">
  <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    <i class="ri-link me-2"></i>Link with href
  </a>
  <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
    <i class="ri-arrow-down-s-line me-2"></i>Button with data-bs-target
  </button>
</p>
<div class="collapse" id="collapseExample">
  <div class="card card-body">
    <i class="ri-information-line me-2"></i>Some placeholder content for the collapse component. This panel is hidden by default but revealed when the user activates the relevant trigger.
  </div>
</div>
`;

// Horizontal collapse example with width animation
const horizontalCollapseExample = `<p>
  <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseWidthExample" aria-expanded="false" aria-controls="collapseWidthExample">
    <i class="ri-arrow-left-right-line me-2"></i>Toggle width collapse
  </button>
</p>
<div style="min-height: 120px;">
  <div class="collapse collapse-horizontal" id="collapseWidthExample">
    <div class="card card-body" style="width: 300px;">
      <i class="ri-layout-right-line me-2"></i>This is some placeholder content for a horizontal collapse. It's hidden by default and shown when triggered.
    </div>
  </div>
</div>
`;

// Multiple collapse example with independent and combined triggers
const multipleCollapseExample = `<p class="d-inline-flex gap-1">
  <a class="btn btn-primary" data-bs-toggle="collapse" href="#multiCollapseExample1" role="button" aria-expanded="false" aria-controls="multiCollapseExample1">
    <i class="ri-arrow-down-circle-line me-2"></i>Toggle first element
  </a>
  <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#multiCollapseExample2" aria-expanded="false" aria-controls="multiCollapseExample2">
    <i class="ri-arrow-down-circle-fill me-2"></i>Toggle second element
  </button>
  <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="false" aria-controls="multiCollapseExample1 multiCollapseExample2">
    <i class="ri-arrow-up-down-line me-2"></i>Toggle both elements
  </button>
</p>
<div class="row">
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample1">
      <div class="card card-body">
        <i class="ri-number-1 me-2"></i>Some placeholder content for the first collapse component of this multi-collapse example. This panel is hidden by default but revealed when the user activates the relevant trigger.
      </div>
    </div>
  </div>
  <div class="col">
    <div class="collapse multi-collapse" id="multiCollapseExample2">
      <div class="card card-body">
        <i class="ri-number-2 me-2"></i>Some placeholder content for the second collapse component of this multi-collapse example. This panel is hidden by default but revealed when the user activates the relevant trigger.
      </div>
    </div>
  </div>
</div>
`;
---

<AdminLayout
  title="Collapse"
  description="Interactive components for showing and hiding content with smooth transitions"
  currentPath="interface/collapse"
  enableComponentPreview={true}
  enableToc={true}
>
  <PageHeader {...pageHeaderConfig} />
  <div class="row">
    <div class="col-md-10 order-1 order-md-0">
      <div class="row">
        <div class="col-12">
          <p class="my-0">
            The collapse component provides a flexible way to show and hide content with smooth
            animations. It enables you to create accordions, expandable panels, and responsive
            navigation elements that toggle visibility with minimal code. Built on Bootstrap's
            JavaScript plugin system, collapse components support various trigger types and can be
            controlled programmatically.
          </p>
        </div>
      </div>
      <div class="row js-toc-content">
        <div class="col-12">
          <div class="my-3">
            <h3 class="mb-0" id="example">Basic Example</h3>
            <p class="py-2">
              The basic collapse implementation offers two trigger methods: a link with <code
                >href</code
              > attribute pointing to the target ID, and a button using <code>data-bs-target</code>.
              Both approaches toggle the same collapsible element, demonstrating the component's
              flexibility. The <code>aria-expanded</code>
              and <code>aria-controls</code> attributes enhance accessibility.
            </p>

            <ComponentPreview
              title="Basic Collapse Example"
              height="300px"
              component={basicCollapseExample}
              htmlCode={basicCollapseExample}
              cssCode={``}
              jsCode={``}
            />
          </div>
          <div class="my-3">
            <h3 class="mb-0" id="horizontal">Horizontal Collapse</h3>
            <p class="py-2">
              The horizontal collapse variant animates width instead of height, creating a
              side-sliding effect. Add the <code>collapse-horizontal</code> class alongside <code
                >collapse</code
              > to enable this behavior. The collapsible element should have a defined width (300px in
              this example) to control the expansion size.
            </p>

            <ComponentPreview
              title="Horizontal Collapse"
              height="250px"
              component={horizontalCollapseExample}
              htmlCode={horizontalCollapseExample}
              cssCode={``}
              jsCode={``}
            />
          </div>
          <div class="my-3">
            <h3 class="mb-0" id="multiple-toggles-and-targets">Multiple Toggles and Targets</h3>
            <p class="py-2">
              Create complex interactions by controlling multiple collapse elements independently or
              simultaneously. This example features three triggers: two that control individual
              collapse elements and a third that toggles both at once using the <code
                >.multi-collapse</code
              > class selector. This pattern is useful for creating advanced accordion-like interfaces.
            </p>

            <ComponentPreview
              title="Multiple Collapse Controls"
              height="550px"
              component={multipleCollapseExample}
              htmlCode={multipleCollapseExample}
              cssCode={``}
              jsCode={``}
            />
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-2 mb-4 order-0 order-md-1">
      <Toc />
    </div>
  </div>
</AdminLayout>
